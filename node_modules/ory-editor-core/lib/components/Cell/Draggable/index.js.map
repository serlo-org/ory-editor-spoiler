{"version":3,"sources":["../../../../src/components/Cell/Draggable/index.js"],"names":["hoverActions","insertActions","icon","Draggable","shouldComponentUpdate","img","Image","onload","props","connectDragPreview","src","isLeaf","connectDragSource","isDragging","isLayoutMode","isInsertMode","inline","node","children","mapDispatchToProps","dragType"],"mappings":";;;;;;;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAEA;;AACA;;IAAYA,Y;;AACZ;;IAAYC,a;;AACZ;;;;;;;;;;;;;;AAEA,IAAMC,OAAO,4ZAAb;;IAEMC,S;;;;;;;;;;;;;;4LAOJC,qB;;;;;wCANoB;AAAA;;AAClB,UAAMC,MAAM,IAAIC,KAAJ,EAAZ;AACAD,UAAIE,MAAJ,GAAa;AAAA,eAAM,OAAKC,KAAL,CAAWC,kBAAX,CAA8BJ,GAA9B,CAAN;AAAA,OAAb;AACAA,UAAIK,GAAJ,GAAUR,IAAV;AACD;;;6BAkBQ;AAAA;;AAAA,mBAGH,KAAKM,KAHF;AAAA,UAELG,MAFK,UAELA,MAFK;AAAA,UAEGC,iBAFH,UAEGA,iBAFH;AAAA,UAEsBC,UAFtB,UAEsBA,UAFtB;AAAA,UAEkCC,YAFlC,UAEkCA,YAFlC;AAAA,UAEgDC,YAFhD,UAEgDA,YAFhD;AAAA,UAEsEC,MAFtE,UAE8DC,IAF9D,CAEsED,MAFtE;AAAA,UAEgFE,QAFhF,UAEgFA,QAFhF;;;AAKP,UAAI,EAAEJ,gBAAgBC,YAAlB,CAAJ,EAAqC;AACnC,eACE;AAAA;AAAA,YAAK,WAAU,8BAAf;AAEE,iDAAK,WAAU,wCAAf,GAFF;AAGGG;AAHH,SADF;AAOD;;AAED,aAAON,kBACL;AAAA;AAAA,UAAK,WAAW,0BAAW,oBAAX,EAAiC,EAAE,kCAAkCC,UAApC,EAAjC,CAAhB;AACE,+CAAK,WAAW,0BAAW,4BAAX,iFAAyEG,MAAzE,EAAoFA,MAApF,gCAA4F,yBAA5F,EAAuHL,MAAvH,gBAAhB,GADF;AAEGO;AAFH,OADK,CAAP;AAMD;;;;;;AAGH,IAAMC,kCACDnB,YADC,EAEDC,aAFC,CAAN;;kBAKe,yBAAQ,IAAR,EAAckB,kBAAd,EAAkC,0BAAW;AAAA,MAAGC,QAAH,SAAGA,QAAH;AAAA,SAAwCA,QAAxC;AAAA,CAAX,6BAA8EjB,SAA9E,CAAlC,C","file":"index.js","sourcesContent":["// @flow\nimport React, { Component } from 'react'\nimport { DragSource as dragSource } from 'react-dnd'\nimport { connect } from 'react-redux'\nimport classNames from 'classnames'\n\nimport { shouldPureComponentUpdate } from '../../../helper/shouldComponentUpdate'\nimport * as hoverActions from '../../../actions/cell/drag'\nimport * as insertActions from '../../../actions/cell/insert'\nimport { source, collect } from './helper/dnd'\n\nconst icon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII='\n\nclass Draggable extends Component {\n  componentDidMount() {\n    const img = new Image()\n    img.onload = () => this.props.connectDragPreview(img)\n    img.src = icon\n  }\n\n  shouldComponentUpdate = shouldPureComponentUpdate\n\n  props: {\n    isLeaf: boolean,\n    isOver: boolean,\n    isOverCurrent: boolean,\n    isDragging: boolean,\n    isInsertMode: boolean,\n    isLayoutMode: boolean,\n    node: { hover: string, inline: string },\n    children: any,\n    className: string,\n    connectDragSource<T>(e: T): T,\n    connectDragPreview(image: Image): any\n  }\n\n  render() {\n    const {\n      isLeaf, connectDragSource, isDragging, isLayoutMode, isInsertMode, node: { inline }, children\n    } = this.props\n\n    if (!(isLayoutMode || isInsertMode)) {\n      return (\n        <div className=\"ory-cell-draggable-container\">\n          {/* these divs are here to prevent page jumping, they are a placeholder for draggable / draggable-overlay */}\n          <div className=\"ory-cell-draggable-overlay-placeholder\" />\n          {children}\n        </div>\n      )\n    }\n\n    return connectDragSource(\n      <div className={classNames('ory-cell-draggable', { 'ory-cell-draggable-is-dragging': isDragging })}>\n        <div className={classNames('ory-cell-draggable-overlay', { [`ory-cell-draggable-inline-${inline}`]: inline, 'ory-cell-draggable-leaf': isLeaf })} />\n        {children}\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = {\n  ...hoverActions,\n  ...insertActions\n}\n\nexport default connect(null, mapDispatchToProps)(dragSource(({ dragType }: { dragType: string }) => dragType, source, collect)(Draggable))\n"]}