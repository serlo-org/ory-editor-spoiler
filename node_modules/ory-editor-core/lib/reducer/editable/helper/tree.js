'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decorate = undefined;

var _sizing = require('./sizing');

var _optimize = require('./optimize');

var _level = require('./level');

var decorate = exports.decorate = function decorate() {
  var cells = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  return (0, _sizing.computeInlines)((0, _sizing.computeResizeable)((0, _sizing.computeBounds)((0, _sizing.computeSizes)((0, _optimize.optimizeCells)(cells))))).map(function (cell) {
    if (cell.rows) {
      cell.rows = (0, _optimize.optimizeRows)(cell.rows).map(function (r) {
        var optimized = (0, _optimize.optimizeRow)(r);
        if (optimized.cells) {
          optimized.cells = decorate(optimized.cells);
        }
        return optimized;
      });
    }

    return (0, _level.computeDropLevels)((0, _optimize.optimizeCell)(cell));
  });
};
//# sourceMappingURL=tree.js.map