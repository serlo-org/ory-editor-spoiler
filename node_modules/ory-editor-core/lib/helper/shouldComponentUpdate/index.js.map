{"version":3,"sources":["../../../src/helper/shouldComponentUpdate/index.js"],"names":["shouldPureComponentUpdate","next","filterFunctions","o","key","prevKeys","Object","keys","filter","nextKeys","props","changed","length"],"mappings":";;;;;;;AACA;;;;;;AAEO,IAAMA,gEAA4B,SAA5BA,yBAA4B,CAAUC,IAAV,EAAwB;AAAA;;AAC/D,MAAMC,kBAAkB,SAAlBA,eAAkB,CAACC,CAAD;AAAA,WAAe,UAACC,GAAD;AAAA,aAAiB,OAAOD,EAAEC,GAAF,CAAP,KAAkB,UAAnC;AAAA,KAAf;AAAA,GAAxB;AACA,MAAMC,WAAWC,OAAOC,IAAP,CAAYN,IAAZ,EAAkBO,MAAlB,CAAyBN,gBAAgBD,IAAhB,CAAzB,CAAjB;AACA;AACA,MAAMQ,WAAWH,OAAOC,IAAP,CAAY,KAAKG,KAAjB,EAAwBF,MAAxB,CAA+BN,gBAAgB,KAAKQ,KAArB,CAA/B,CAAjB;;AAEA,MAAI,CAAC,sBAAOD,QAAP,EAAiBJ,QAAjB,CAAL,EAAiC;AAC/B,WAAO,IAAP;AACD;;AAED;AACA,MAAMM,UAAUF,SAASD,MAAT,CAAgB,UAACJ,GAAD;AAAA,WAAiB,CAAC,sBAAOH,KAAKG,GAAL,CAAP,EAAkB,MAAKM,KAAL,CAAWN,GAAX,CAAlB,CAAlB;AAAA,GAAhB,CAAhB;AACA;AACA;;AAEA,SAAOO,QAAQC,MAAR,GAAiB,CAAxB;AACD,CAhBM","file":"index.js","sourcesContent":["// @flow\nimport equals from 'ramda/src/equals'\n\nexport const shouldPureComponentUpdate = function (next: Object) {\n  const filterFunctions = (o: Object) => (key: string) => typeof o[key] !== 'function'\n  const prevKeys = Object.keys(next).filter(filterFunctions(next))\n  // eslint-disable-next-line no-invalid-this\n  const nextKeys = Object.keys(this.props).filter(filterFunctions(this.props))\n\n  if (!equals(nextKeys, prevKeys)) {\n    return true\n  }\n\n  // eslint-disable-next-line no-invalid-this\n  const changed = nextKeys.filter((key: string) => !equals(next[key], this.props[key]))\n  // this can be used for debugging\n  // console.log(changed, changed.map((key: string) => ({ next: next[key], prev: this.props[key] })))\n\n  return changed.length > 0\n}\n"]}