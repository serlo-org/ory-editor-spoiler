'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.shouldPureComponentUpdate = undefined;

var _equals = require('ramda/src/equals');

var _equals2 = _interopRequireDefault(_equals);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var shouldPureComponentUpdate = exports.shouldPureComponentUpdate = function shouldPureComponentUpdate(next) {
  var _this = this;

  var filterFunctions = function filterFunctions(o) {
    return function (key) {
      return typeof o[key] !== 'function';
    };
  };
  var prevKeys = Object.keys(next).filter(filterFunctions(next));
  // eslint-disable-next-line no-invalid-this
  var nextKeys = Object.keys(this.props).filter(filterFunctions(this.props));

  if (!(0, _equals2.default)(nextKeys, prevKeys)) {
    return true;
  }

  // eslint-disable-next-line no-invalid-this
  var changed = nextKeys.filter(function (key) {
    return !(0, _equals2.default)(next[key], _this.props[key]);
  });
  // this can be used for debugging
  // console.log(changed, changed.map((key: string) => ({ next: next[key], prev: this.props[key] })))

  return changed.length > 0;
};
//# sourceMappingURL=index.js.map